<ion-view>
  <ion-nav-title>
    {{text('manual')}}
  </ion-nav-title>
  <ion-content>

    <div class="list">
      <label class="item item-input item-stacked-label">
        <b class="input-label">CP</b>
        <input type="text" ng-change="calculate()" number-only ng-model="options.cp" placeholder="CP">
      </label>
      <label class="item item-input item-stacked-label">
        <b class="input-label">HP</b>
        <input type="text" ng-change="calculate()" number-only ng-model="options.hp" placeholder="HP">
      </label>
      <label class="item item-input item-stacked-label">
        <b class="input-label">{{text('starDustToEvolve')}}</b>
        <input type="text" ng-change="calculate()" number-only ng-model="options.starDust"
               placeholder="{{text('starDustToEvolve')}}">
      </label>
      <div class="row">
        <ion-checkbox style="border:none" ng-model="options.powerUp" ng-change="calculate()">{{text('powerUped')}}
        </ion-checkbox>
        <ion-checkbox style="border:none" ng-model="options.hatched" ng-change="calculate()">{{text('hatched')}}
        </ion-checkbox>
      </div>
    </div>

    <div style="text-align:center;margin:20px;min-height:100px;position: relative;" ng-click="selectPokemon()">
      <img ng-src="{{pokemon.img}}" style="width:100px;height:100px">
    </div>

    <div class="card poke-card">
      <div class="item item-divider">
        <span ng-if="results.length>0"><i class="ion-stats-bars"></i> {{text('individualValue')}}</span>
        <span ng-if="results.length == 0"><i class="ion-close-round"></i> {{text('individualValueNone')}}</span>
      </div>
      <div class="row" ng-if="results.length>0">
        <div class="col">
          <label class="item item-input item-stacked-label">
            <b class="input-label">Trainer Level</b>
            <input type="text" number-only ng-model="options.trainerLevel" placeholder="Trainer Level">
          </label>
        </div>
      </div>
      <div ng-if="results.length>0" class="item item-text-wrap" style="border-bottom: none;" >
        <div class="row">
          <div class="col">
            <div class="small-title">{{text('individualValue')}}</div>
          </div>
          <div class="col">
            <div class="small-title">{{text('attack')}} / {{text('defense')}} / {{text('stamina')}}</div>
          </div>
          <div class="col">
            <div class="small-title">{{text('maxCpList')}} ({{options.trainerLevel || 1}}/40)</div>
          </div>
        </div>
        <div class="row" ng-repeat="value in results" ng-style="getStyle(value)" ng-click="setValue(value)">
          <div class="col">
            {{value.iv}}/45
            <pokerank iv="value.iv"></pokerank>
          </div>
          <div class="col">
            {{value.a}} / {{value.d}} / {{value.s}}
          </div>
          <div class="col">
            {{cpCal.getCp(pokemon, options.trainerLevel * 2 + 1, value.a, value.d, value.s)}} / {{cpCal.getCp(pokemon,
            78, value.a, value.d, value.s)}}
          </div>
        </div>
      </div>
    </div>

    <div class="card poke-card" ng-if="pokemon.evolve && pokemon.evolve.length !== 0">
      <div class="item item-divider">
        <i class="ion-ios-rose"></i> {{text('evolveInfo')}}
      </div>
      <div class="list" style="background: #eee;text-align: left">
        <poke-evolve iv-pokemon="value" pokemon="pokemon" trainer="options.trainerLevel" root="true"></poke-evolve>
      </div>
    </div>

  </ion-content>
</ion-view>
